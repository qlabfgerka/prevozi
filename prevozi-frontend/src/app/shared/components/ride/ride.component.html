<ion-card *ngIf="ride">
  <ion-card-header>
    <ion-badge color="danger" *ngIf="ride.spots - ride.reservations.length <= 0"
      >FULL</ion-badge
    >
    <ion-badge color="warning" *ngIf="userBooked(ride)">BOOKED</ion-badge>
    <ion-badge color="success" *ngIf="myBooking(ride)">MY BOOKING</ion-badge>
    <ion-card-subtitle
      [ngClass]="{
        'not-final':
          filters &&
          filters.end &&
          ride.stops[ride.stops.length - 1].id !== filters.end.toString()
      }"
    >
      {{ ride.departure.value }}
      <span *ngFor="let stop of ride.stops"> -> {{ stop.value }} </span>
    </ion-card-subtitle>
    <ion-card-title>{{ ride.owner.username }}</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    <ion-list>
      <ion-item>
        <ion-label>
          <h2>Car</h2>
          <p>
            {{ ride.carBrand.value }} {{ ride.carBrand.models[0] }},
            {{ ride.carColor.value }}
          </p>
          <p>
            Registration plate: <b>{{ ride.carRegistration }}</b>
          </p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>Departure time</h2>
          <p>{{ ride.departureTime | date: "medium" }}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>Arrival time</h2>
          <p>{{ ride.arrivalTime | date: "medium" }}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>Luggage per person</h2>
          <p>{{ ride.luggage }}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>Price</h2>
          <p>{{ ride.price }}â‚¬</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h2>Spots left</h2>
          <p>{{ ride.spots - ride.reservations.length }}</p>
        </ion-label>
      </ion-item>
    </ion-list>
    <div class="flexbox" *ngIf="!canBook(ride)">
      <ion-button color="tertiary" (click)="bookRide(ride)">BOOK</ion-button>
    </div>
  </ion-card-content>
</ion-card>
